(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{199:function(e,t,a){e.exports=a(445)},204:function(e,t,a){},236:function(e,t){},445:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(195),s=a.n(c),l=(a(204),a(2)),u=a(33),i=a(52),o=r.a.createContext(),m=a(17),f=a(5),p=a.n(f),d=a(16),b=a(13),h=a.n(b),E=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/auth",{method:"get",headers:{Authorization:"Bearer "+h.a.get("token")}});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/login",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({username:t,password:a})});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,r=t.email,e.prev=1,e.next=4,fetch("/users/signup",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({username:a,password:n,email:r})});case 4:return c=e.sent,e.abrupt("return",c.json());case 8:e.prev=8,e.t0=e.catch(1),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/logout",{method:"post",headers:{Authorization:"Bearer "+h.a.get("token")},body:""});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=e.push,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],u=c[1],i=Object(n.useState)(!1),m=Object(l.a)(i,2),f=m[0],p=m[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),E=b[0],g=b[1],j=Object(n.useContext)(o).setUser;return r.a.createElement("div",{className:"loginform"},r.a.createElement("h2",{className:"loginform__title"},"Login"),r.a.createElement("form",{className:"loginform__form",onSubmit:function(e){e.preventDefault(),v(e.target.elements[0].value,e.target.elements[1].value).then((function(e){e.error?p(!0):(p(!1),j(e.user),h.a.set("token",e.token),t("/profile/"+e.user._id))}))}},f&&r.a.createElement("p",null,"Wrong Username or Password"),r.a.createElement("input",{className:"loginform__input",placeholder:"User Name",value:s,autoComplete:"username",required:!0,onChange:function(e){return u(e.target.value)}}),r.a.createElement("input",{className:"loginform__input",placeholder:"Password",type:"password",required:!0,autoComplete:"current-password",value:E,onChange:function(e){return g(e.target.value)}}),r.a.createElement("button",{className:"loginform__btn"},"Login")))},O=function(e){var t=e.push,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],u=c[1],i=Object(n.useState)(""),m=Object(l.a)(i,2),f=m[0],p=m[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),E=b[0],v=b[1],j=Object(n.useState)(!1),_=Object(l.a)(j,2),O=_[0],N=_[1],w=Object(n.useContext)(o).setUser;return r.a.createElement("div",{className:"loginform"},r.a.createElement("h2",{className:"loginform__title"},"SignUp"),r.a.createElement("form",{className:"loginform__form",onSubmit:function(e){e.preventDefault(),g({username:s,password:E,email:f}).then((function(e){if(e.error)return N(!0),console.log("something went wrong",e.error);w(e.user),h.a.set("token",e.token),t("/profile/"+e.user._id)}))}},O&&r.a.createElement("p",null,"Email already in use"),r.a.createElement("input",{className:"loginform__input",placeholder:"User Name",required:!0,value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement("input",{className:"loginform__input",placeholder:"Email",required:!0,value:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{className:"loginform__input",placeholder:"Password",required:!0,type:"password",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement("button",{className:"loginform__btn"},"SignUp")))},N=function(e){var t=Object(n.useContext)(o).setloged;return Object(n.useEffect)((function(){var e=h.a.get("token");e&&E(e).then((function(e){e.error||t(!0)}))}),[]),r.a.createElement("div",{className:"boxLayout"},r.a.createElement(m.d,null,r.a.createElement(m.b,null,r.a.createElement(m.a,null,"Login"),r.a.createElement(m.a,null,"SignUp")),r.a.createElement(m.c,null,r.a.createElement(_,{push:e.history.push})),r.a.createElement(m.c,null,r.a.createElement(O,{push:e.history.push}))))},w=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/"+t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/f/"+t,{headers:{Authorization:"Bearer "+h.a.get("token")}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/f",{headers:{Authorization:"Bearer "+h.a.get("token")}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/f",{method:"POST",headers:{Authorization:"Bearer "+h.a.get("token"),"Content-type":"application/json"},body:JSON.stringify({id:t})});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/f/"+t,{method:"POST",headers:{Authorization:"Bearer "+h.a.get("token"),"Content-type":"application/json"},body:JSON.stringify({type:a})});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/f/"+t,{method:"DELETE",headers:{Authorization:"Bearer "+h.a.get("token"),"Content-type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=a(30),z=function(e){var t=e.Request,a=Object(n.useContext)(o).user,c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],i=s[1];return r.a.createElement("div",{className:"Reqeust"},r.a.createElement("img",{src:"/img/Happiness.jpg",alt:"Profile pic "}),r.a.createElement("span",{className:"Reqeust__text"},t.username),r.a.createElement("button",{onClick:function(){i(!0),S(t._id,"A").then((function(e){a.contacts=[].concat(Object(F.a)(a.contacts),[t._id])}))},disabled:u},"Accept"),r.a.createElement("button",{onClick:function(){i(!0),S(t._id,"D").then((function(e){}))},disabled:u},"decline"))},M=function(){var e=Object(n.useState)([{}]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),u=Object(l.a)(s,2),i=u[0],o=u[1];return Object(n.useEffect)((function(){k().then((function(e){c(e),o(!1)}))}),[]),i?r.a.createElement("p",null,"Lodaing ...."):r.a.createElement("div",null,r.a.createElement("ul",{className:"item-list"},a.map((function(e){return r.a.createElement("li",{className:"item-list--item",key:e._id},r.a.createElement(z,{Request:e}))}))))},L=function(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)(!1),i=Object(l.a)(u,2),m=i[0],f=i[1],p=Object(n.useState)(!1),d=Object(l.a)(p,2),b=d[0],h=d[1],E=Object(n.useState)(!0),v=Object(l.a)(E,2),g=v[0],j=v[1],_=Object(n.useState)(!1),O=Object(l.a)(_,2),N=O[0],x=O[1],k=Object(n.useContext)(o).user;Object(n.useEffect)((function(){e.match.params.id===k._id?(x(!0),s(k),j(!1)):w(e.match.params.id).then((function(e){e.error?(s(void 0),j(!1)):e._id&&(x(!1),s(e),h(k.contacts.includes(e._id)),j(!1))}))}),[]);return g?r.a.createElement("p",null,"Loading"):c?r.a.createElement("div",{className:"profile"},r.a.createElement("img",{className:"profile__picture",src:"/img/Happiness.jpg",alt:"Profile pic "}),r.a.createElement("h2",{className:"profile__name"}," ",c.username),r.a.createElement("h3",{className:"profile__email"},"Email : ",c.email),!N&&r.a.createElement("div",{className:"profile__buttons"},r.a.createElement("button",{disabled:m,onClick:b?function(){f(!0),y(c._id).then((function(e){}))}:function(){f(!0),C(c.username).then((function(e){e.error,e.ok}))}},b?"Delete Friend":"Add Friend"),r.a.createElement("button",{onClick:function(){e.history.push("/chat/"+c._id)}},"Message"))):r.a.createElement("p",null,"Profle not Found")},H=a(196),B=a.n(H),A=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rooms/u/"+t,{headers:{Authorization:"Bearer "+h.a.get("token")}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/messages/r/"+t,{headers:{Authorization:"Bearer "+h.a.get("token")}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/messages/u/"+t,{headers:{Authorization:"Bearer "+h.a.get("token")}});case 3:if(!(a=e.sent)){e.next=6;break}return e.abrupt("return",a.json());case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),V=a(63),U=a.n(V),R=function(e){var t=e.sender,a=e.icat,n=e.body,c=(e.profilepic,e.includeExtra);return r.a.createElement("li",{className:"Message"},c&&r.a.createElement("div",{className:"Message__info"},r.a.createElement("span",{className:"Message__sender"},t),r.a.createElement("span",{className:"Message__time"},U.a.unix(a).format("LT"))),c&&r.a.createElement("img",{src:"/img/Happiness.jpg",className:"Message__pp",alt:"Profile pic "}),r.a.createElement("p",{className:"Message__body"},n))},D=function(e){var t=e.Messages,a=e.Users,c=Object(n.useRef)(null),s=Object(n.useRef)();Object(n.useLayoutEffect)((function(){c.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),Object(n.useLayoutEffect)((function(){s.current.scrollTop+s.current.clientHeight+200>=s.current.scrollHeight&&c.current.scrollIntoView({block:"end",inline:"nearest"})}),[t]);return r.a.createElement("div",{ref:s,className:"chatbox--messages"},r.a.createElement("ul",{className:"MessagesList"},t.map((function(e,n){var c;return c=e,a.forEach((function(e){if(e._id===c.sender)return t[t.length-1],c.sender,c.includeExtra=!0,c.sender=e.username})),r.a.createElement(R,Object.assign({key:n},e))}))),r.a.createElement("div",{ref:c}))},J=function(e){var t=e.room,a=e.sendMessage,c=e.message,s=Object(n.useState)([{}]),u=Object(l.a)(s,2),i=u[0],m=u[1],f=Object(n.useState)(!0),p=Object(l.a)(f,2),d=p[0],b=p[1],h=Object(n.useState)([]),E=Object(l.a)(h,2),v=E[0],g=E[1],j=Object(n.useContext)(o).user;Object(n.useEffect)((function(){q(t._id).then((function(e){g(e),t.error||(t.users.forEach((function(e){e._id!==j._id&&m(e)})),b(!1))}))}),[t]),Object(n.useEffect)((function(){g((function(e){return[].concat(Object(F.a)(e),[c])}))}),[c]);return d?r.a.createElement("p",null,"Loading...."):t.error?r.a.createElement("p",null,"Empty"):r.a.createElement("div",{className:"chatbox"},r.a.createElement("div",{className:"chatbox__header"},r.a.createElement("span",{className:"chatbox__header__title"},i.username)),r.a.createElement(D,{Messages:v,Users:[i,j]}),r.a.createElement("div",{className:"chatbox--input"},r.a.createElement("form",{className:"chatbox--input--form",onSubmit:function(e){e.preventDefault();var n=e.target.elements[0].value;if(""!==n.trim()){var r={sender:j._id,body:n,room:t._id,receiver:i._id,icat:U()().unix()};a(r),e.target.elements[0].value=""}}},r.a.createElement("input",{className:"chatbox--input--form--input",placeholder:"message",name:"message",required:!0,autoComplete:"off"}),r.a.createElement("button",{className:"chatbox--input--form--btn"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"external-link-square-alt",className:"svg-inline--fa fa-external-link-square-alt fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},r.a.createElement("path",{fill:"currentColor",d:"M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z"}))))))},T=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/messages/seen/"+t,{headers:{Authorization:"Bearer "+h.a.get("token")}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=e.message,a=e.setChat,c=Object(n.useContext)(o).user,s=Object(n.useState)(!1),u=Object(l.a)(s,2),i=u[0],m=u[1],f=Object(n.useState)(t.message.seen||t.message.sender===c._id),p=Object(l.a)(f,2),d=p[0],b=p[1];return r.a.useEffect((function(){m(t.user.state)})),r.a.createElement("a",{className:"last-chat-elem__link",onClick:function(){a(t.user._id),d||(T(t.message._id).then((function(){})).catch((function(){})),b(!0))}},r.a.createElement("li",{className:"last-chat-elem"},r.a.createElement("div",{className:"last-chat-elem__container"},r.a.createElement("img",{src:"/img/Happiness.jpg",className:"last-chat-elem__image",alt:"Profile pic "}),i&&r.a.createElement("span",{className:"last-chat-elem__status"}),!d&&r.a.createElement("span",null,"see"),r.a.createElement("div",{className:"last-chat-elem__content"},r.a.createElement("span",{className:"last-chat-elem__user"},t.user.username),r.a.createElement("div",{className:"last-chat-elem__content__data"},r.a.createElement("span",{className:"last-chat-elem__message"},t.message.body),t.message.icat&&r.a.createElement("span",{className:"last-chat-elem__time"},U.a.unix(t.message.icat).format("LT")))))))},W=function(e,t){return e.filter((function(e){return!!e.user.username&&e.user.username.toLowerCase().includes(t.toLowerCase())})).sort((function(e,t){return e.message.icat<t.message.icat?1:-1}))},G=function(e){var t=e.setChat,a=e.LastMsg,c=e.chatFilter,s=e.socket,u=Object(n.useState)(!0),i=Object(l.a)(u,2),m=i[0],f=i[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),E=h[0],v=h[1],g=Object(n.useState)([]),j=Object(l.a)(g,2),_=j[0],O=j[1],N=Object(n.useState)(""),x=Object(l.a)(N,2),k=x[0],C=x[1],S=Object(n.useState)(""),y=Object(l.a)(S,2),z=y[0],M=y[1],L=Object(n.useContext)(o).user,H=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:if(!(a<L.contacts.length)){e.next=14;break}return n={},e.next=6,w(L.contacts[a]);case 6:return n.user=e.sent,e.next=9,P(L.contacts[a]);case 9:n.message=e.sent,t.push(n);case 11:a++,e.next=2;break;case 14:return e.abrupt("return",W(t,c));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){H().then((function(e){0==!L.contacts.length&&(t(e[0].user._id),v(Object(F.a)(e)),O(Object(F.a)(e))),s.on("userdisconnected",(function(e){C(e),console.log("how tebi")})),s.on("userconnected",(function(e){M(e)})),s.emit("online",L.contacts,(function(e){e.forEach((function(e){M(e)}))})),f(!1)}))}),[]),Object(n.useEffect)((function(){E.forEach((function(e){e.user._id===k&&(e.user.state=!1,C(""))})),v(Object(F.a)(E)),O(Object(F.a)(E))}),[k]),Object(n.useEffect)((function(){E.forEach((function(e){e.user._id===z&&(e.user.state=!0,M(""))})),v(Object(F.a)(E)),O(Object(F.a)(E))}),[z]),Object(n.useEffect)((function(){E.forEach((function(e){e.user._id!==a.sender&&e.user._id!==a.receiver||(e.message=a)})),O(Object(F.a)(E))}),[a]),Object(n.useEffect)((function(){O(Object(F.a)(W(E,c)))}),[a,c]),m?r.a.createElement("p",null,"loading"):0==L.contacts.length?r.a.createElement("p",null,"Empty"):r.a.createElement("div",{className:"Chatitem-list-container"},r.a.createElement("ul",{className:"Chatitem-list"},_.map((function(e,a){return r.a.createElement(I,{key:a,message:e,setChat:t})}))))},K=function(e){var t=e.setchatFilter,a=e.chatFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{placeholder:".....",className:"chat-filter",value:a,onChange:function(e){t(e.target.value)}}))},Q=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(),c=Object(l.a)(a,2),s=c[0],u=c[1],i=Object(n.useState)(""),m=Object(l.a)(i,2),f=m[0],p=m[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),h=b[0],E=b[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),j=g[0],_=g[1],O=Object(n.useState)(!0),N=Object(l.a)(O,2),w=N[0],x=N[1],k=Object(n.useState)(!0),C=Object(l.a)(k,2),S=C[0],y=C[1],F=Object(n.useContext)(o).user,z=Object(n.useRef)(""),M=Object(n.useRef)(void 0);Object(n.useEffect)((function(){return t.current=B.a.connect("/chat"),t.current.emit("join",F._id,F.contacts),t.current.on("message",(function(e){z.current===e.sender?(e.seen=!0,E(e),p(e)):E(e)})),t.current.on("ping",(function(e){e&&e()})),e.match.params.id&&(M.current=e.match.params.id),x(!1),function(){t.current.emit("leave",F._id)}}),[]);return w?r.a.createElement("p",null,"Loading ..........."):r.a.createElement("div",{className:"chat-page-container"},r.a.createElement("div",{className:"Chat-List-container"},r.a.createElement(K,{setchatFilter:_,chatFilter:j}),r.a.createElement(G,{setChat:function(e){M.current?(e!==z.current&&(z.current=M.current,window.history.replaceState("","","chat/"+e),A(M.current).then((function(e){u(e),y(!1)}))),M.current=void 0):e!==z.current&&(z.current=e,window.history.replaceState("","","chat/"+e),A(e).then((function(e){u(e),y(!1)})))},LastMsg:h,chatFilter:j,socket:t.current})),!S&&r.a.createElement(J,{room:s,sendMessage:function(e){E(e),p(e),t.current.emit("sendMessage",e)},message:f}))},X=function(e){var t=Object(n.useState)([{}]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!0),m=Object(l.a)(i,2),f=m[0],p=m[1],d=Object(n.useContext)(o).user;return Object(n.useEffect)((function(){x(d._id).then((function(e){s(e),p(!1)}))}),[]),f?r.a.createElement("p",null,"Lodaing ...."):r.a.createElement("div",null,r.a.createElement("ul",{className:"item-list"},c.map((function(e){return r.a.createElement("li",{className:"item-list--item",key:e._id},r.a.createElement("div",{className:"nav-link"},r.a.createElement("img",{src:"/img/Happiness.jpg",alt:"Profile pic "}),r.a.createElement("span",{className:"item-list--item-text"},e.username),r.a.createElement(u.b,{to:"/profile/"+e._id,className:"profile-link"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"address-card",className:"svg-inline--fa fa-address-card fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},r.a.createElement("path",{fill:"currentColor",d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H48V80h480v352zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z"}))),r.a.createElement(u.b,{to:"/chat/"+e._id,className:"chat-link"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"comment",className:"svg-inline--fa fa-comment fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"})))))}))))},Y=function(){var e=r.a.useState(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),s=Object(l.a)(c,2),u=s[0],i=s[1],o=r.a.useState(!1),m=Object(l.a)(o,2),f=m[0],p=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add Friends"),!!u&&r.a.createElement("p",null,u),r.a.createElement("form",{className:"friendadd-form",onSubmit:function(e){e.preventDefault(),p(!0),""!==a.trim()&&C(a).then((function(e){var t=e.error;i(t||"Request Sent"),n(""),p(!1)}))}},r.a.createElement("input",{placeholder:"Friend Name",value:a,onChange:function(e){n(e.target.value)}}),r.a.createElement("button",{disabled:f},"Add")))},Z=function(){return r.a.createElement("div",{className:"Friends-content"},r.a.createElement(m.d,{className:"Friends-tab"},r.a.createElement(m.b,{className:"Friends-tab__list"},r.a.createElement(m.a,{className:"Friends-tab__list__tab",selectedClassName:"Friends-tab__list__tab--selected"},"Friends"),r.a.createElement(m.a,{className:"Friends-tab__list__tab",selectedClassName:"Friends-tab__list__tab--selected"},"Requests"),r.a.createElement(m.a,{className:"Friends-tab__list__tab",selectedClassName:"Friends-tab__list__tab--selected"},"Online"),r.a.createElement(m.a,{className:"Friends-tab__list__tab",selectedClassName:"Friends-tab__list__tab--selected"},"Add Friends")),r.a.createElement(m.c,{className:"Friends-tab__panel"},r.a.createElement(X,null)),r.a.createElement(m.c,{className:"Friends-tab__panel"},r.a.createElement(M,null)),r.a.createElement(m.c,{className:"Friends-tab__panel"},r.a.createElement("p",null,"not emplimeted yet :')")),r.a.createElement(m.c,{className:"Friends-tab__panel"},r.a.createElement(Y,null))))},$=a(98),ee=function(){var e=Object(n.useContext)(o),t=e.setloged,a=e.user;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/profile/"+a._id,className:"nav-link"},r.a.createElement("img",{src:"/img/Happiness.jpg",className:"nav-link__pp",alt:"Profile pic "}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/friends",className:"nav-link"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-friends",className:"svg-inline--fa fa-user-friends fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},r.a.createElement("path",{fill:"currentColor",d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"})))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/Chat",className:"nav-link"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"envelope",className:"svg-inline--fa fa-envelope fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"})))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:function(){j(),t(!1)},className:"nav-link"},r.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sign-out-alt",className:"svg-inline--fa fa-sign-out-alt fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}))))))},te=function(e){var t=e.component,a=Object($.a)(e,["component"]),c=Object(n.useState)(!0),s=Object(l.a)(c,2),u=s[0],m=s[1],f=Object(n.useContext)(o),p=f.loged,d=f.setloged,b=f.setUser;return Object(n.useEffect)((function(){E(h.a.get("token")).then((function(e){if(e.error)return d(!1),void m(!1);e._id&&(b(e),d(!0),m(!1))}))}),[]),u?r.a.createElement("p",null,"Loading ......"):r.a.createElement(i.b,Object.assign({},a,{component:function(e){return p?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(t,e))):r.a.createElement(i.a,{to:"/"})}}))},ae=function(e){var t=e.component,a=Object($.a)(e,["component"]),c=Object(n.useState)(!0),s=Object(l.a)(c,2),u=s[0],m=s[1],f=Object(n.useContext)(o),p=f.loged,d=f.setloged,b=f.setUser,h=f.user;return Object(n.useEffect)((function(){E().then((function(e){if(e){if(e.error)return d(!1),void m(!1);e._id&&(b(e),d(!0),m(!1))}else d(!1),m(!1)}))}),[]),u?r.a.createElement("p",null,"Loading ......"):r.a.createElement(i.b,Object.assign({},a,{component:function(e){return p?r.a.createElement(i.a,{to:"/profile/"+h._id}):r.a.createElement("div",null,r.a.createElement(t,e))}}))},ne=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({contacts:[],username:"",email:"",state:"",_id:""}),m=Object(l.a)(s,2),f=m[0],p=m[1];return r.a.createElement(o.Provider,{value:{loged:a,setloged:c,user:f,setUser:p}},r.a.createElement(u.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(ae,{path:"/",component:N,exact:!0}),r.a.createElement(te,{path:"/Chat/:id",component:Q}),r.a.createElement(te,{path:"/Chat",component:Q}),r.a.createElement(te,{path:"/friends",component:Z}),r.a.createElement(te,{path:"/profile/:id",component:L}),r.a.createElement(i.b,{component:function(){return r.a.createElement("h1",null,"Page Not Found")}})))))};a(242);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.ce56014a.chunk.js.map