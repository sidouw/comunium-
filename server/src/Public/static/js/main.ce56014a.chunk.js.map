{"version":3,"sources":["context/context.js","utils/auth.js","Components/LoginForm.js","Components/SignUpForm.js","Components/LoginPage.js","utils/UsersDataHandler.js","Components/FriendRequest.js","Components/FriendsRequestsList.js","Components/ProfilePage.js","utils/RoomsDataHandler.js","Components/Mesaage.js","Components/MessagesList.js","Components/Chat.js","utils/MessagesDataHandler.js","Components/LastMessage.js","Selectors/FriendsSelector.js","Components/ChatList.js","Components/ChatListFilter.js","Components/ChatPage.js","Components/FriendsList.js","Components/AddFriends.js","Components/FriendsPage.js","Components/SideBar.js","Routers/PrivateRoute.js","Routers/PublicRoute.js","Routers/AppRouter.js","index.js"],"names":["Context","React","createContext","authanticate","a","fetch","method","headers","cookies","get","data","json","console","log","login","username","password","body","JSON","stringify","signup","email","logout","LoginForm","push","useState","user","setUsernaem","error","seterror","pass","setPass","setUser","useContext","context","className","onSubmit","e","preventDefault","target","elements","value","then","set","token","_id","placeholder","autoComplete","required","onChange","type","SignUpForm","setusername","setEmail","LoginPage","props","setloged","useEffect","history","getUser","id","getFriends","cookie","getFriendsRequests","AddFriend","HandleRequest","DeleteFriend","FriendRequest","Request","disable","setdisable","src","alt","onClick","contacts","disabled","FriendsRequestsList","Requests","setRequests","loading","setloading","map","key","ProfilePage","userProfile","setProfile","disableButton","setdisableButton","isFriend","setisFriend","self","setself","match","params","undefined","includes","ok","getUsersRoom","getRoomMessages","getLastRoomMessage","Message","sender","icat","includeExtra","profilepic","moment","unix","format","MessagesList","Messages","Users","messagesEndRef","useRef","chatboxref","useLayoutEffect","current","scrollIntoView","behavior","block","inline","scrollTop","clientHeight","scrollHeight","ref","message","index","msg","forEach","length","Chat","room","sendMessage","partner","setPartner","setMessages","roomMessages","users","ruser","trim","receiver","name","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","d","setMessageSeen","LastMessage","setChat","online","setOnline","seen","setSeen","state","catch","selectFriends","friends","filter","friend","toLowerCase","sort","b","ChatList","LastMsg","chatFilter","socket","setLoading","chatListData","setChatListData","chatList","setChatList","discUser","setdiscUser","conUser","setConUser","getEntries","Friends","entry","friendsSelector","on","duser","cuser","emit","onlinefriend","chat","ChatListFilter","setchatFilter","ChatPage","setroom","setmsg","setLastMsg","loadingChat","setloadingChat","chatIdRef","urlChatId","io","connect","pong","window","replaceState","FriendsList","setfriends","to","AddFriends","FName","setFName","rerror","Buttondisabled","setButtondisabled","FriendsPage","selectedClassName","SideBar","PrivateRoute","Component","component","rest","loged","PublicRoute","App","Provider","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce56014a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Context = React.createContext()\r\n\r\nexport { Context as default }","\r\nimport cookies from 'js-cookie'\r\nimport url from './ServerURL'\r\n\r\n\r\n\r\nexport const authanticate = async()=>{\r\ntry {\r\n    const data = await fetch(url+'/users/auth',{\r\n        method : 'get',\r\n        headers:{\r\n           'Authorization':'Bearer '+cookies.get('token')\r\n        }\r\n    })\r\n    return await data.json()\r\n\r\n} catch (error) {\r\n    console.log(error)\r\n}\r\n\r\n}\r\n\r\n\r\nexport const  login = async(username,password)=>{\r\n\r\n    try {\r\n        const data= await fetch(url+'/users/login',{\r\n            method : 'post',\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n              },\r\n            body:JSON.stringify({username,password})\r\n        })\r\n        return data.json()\r\n    } catch (error) {\r\n        console.log('something went wrong')\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const  signup = async({username,password,email})=>{\r\n\r\n    try {\r\n        const data= await fetch(url+'/users/signup',{\r\n            method : 'post',\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n              },\r\n            body:JSON.stringify({username,password,email})\r\n        })\r\n        return data.json()\r\n    } catch (error) {\r\n        console.log('something went wrong')\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const  logout = async()=>{\r\n\r\n    try {\r\n        const data= await fetch(url+'/users/logout',{\r\n            method : 'post',\r\n            headers:{\r\n                'Authorization':'Bearer '+cookies.get('token')\r\n             },\r\n            body:''\r\n        })\r\n        return data.json()\r\n    } catch (error) {\r\n        console.log('something went wrong')\r\n    }\r\n\r\n\r\n}","import React,{useState,useContext} from 'react'\r\nimport cookies from 'js-cookie'\r\nimport context from '../context/context'\r\nimport {login} from '../utils/auth'\r\n\r\n\r\nconst LoginForm = ({push})=>{\r\n\r\nconst [user,setUsernaem] = useState('')\r\nconst [error,seterror] = useState(false)\r\nconst [pass,setPass] = useState('')\r\nconst {setUser} = useContext(context)\r\n\r\nconst Submited = (e)=>{\r\n    e.preventDefault()\r\n\r\n    login(e.target.elements[0].value,e.target.elements[1].value)\r\n    .then((data)=>{\r\n        if (data.error) {\r\n            seterror(true)\r\n        }else{\r\n            seterror(false)\r\n            setUser(data.user)\r\n            cookies.set('token',data.token)\r\n            push('/profile/'+data.user._id)\r\n        }\r\n \r\n    })\r\n\r\n    \r\n}\r\n\r\n    return (\r\n        \r\n    <div className='loginform'>\r\n    <h2 className='loginform__title'>Login</h2>\r\n    <form className='loginform__form'  onSubmit = {Submited}>\r\n        {error && <p>Wrong Username or Password</p>}\r\n    <input className ='loginform__input' placeholder='User Name' value={user} autoComplete='username' required onChange = {(e)=> setUsernaem(e.target.value)}/>\r\n    <input className ='loginform__input' placeholder='Password' type='password' required autoComplete='current-password' value={pass} onChange = {(e)=> setPass(e.target.value)}/>\r\n    <button className ='loginform__btn'>Login</button>\r\n    </form>\r\n    </div>)\r\n}\r\n\r\nexport default LoginForm","import React,{useState,useContext} from 'react'\r\nimport {signup} from '../utils/auth'\r\nimport context from '../context/context'\r\nimport cookies from 'js-cookie'\r\n\r\n\r\nconst SignUpForm = ({push})=>{\r\n\r\n\r\nconst [username,setusername] = useState('')\r\nconst [email,setEmail] = useState('')\r\nconst [password,setPass] = useState('')\r\nconst [error,seterror] = useState(false)\r\nconst {setUser} = useContext(context)\r\nconst Submited = (e)=>{\r\n    e.preventDefault()\r\n    signup({username,password,email}).then((data)=>{\r\n        if (data.error) {\r\n            seterror(true)\r\n            return console.log('something went wrong',data.error)\r\n        }\r\n        setUser(data.user)\r\n        cookies.set('token',data.token)\r\n        push('/profile/'+data.user._id)\r\n    })\r\n}\r\n\r\n    return (\r\n    <div className='loginform'>\r\n    <h2 className='loginform__title'>SignUp</h2>\r\n    <form className='loginform__form' onSubmit = {Submited}>\r\n        {error && <p>Email already in use</p>}\r\n    <input className ='loginform__input' placeholder='User Name' required value={username} onChange = {(e)=> setusername(e.target.value)}/>\r\n    <input className ='loginform__input' placeholder='Email' required value={email} onChange = {(e)=> setEmail(e.target.value)}/>\r\n    <input className ='loginform__input' placeholder='Password' required type='password' value={password} onChange = {(e)=> setPass(e.target.value)}/>\r\n    <button className ='loginform__btn'>SignUp</button>\r\n    </form>\r\n    </div>)\r\n}\r\n\r\nexport default SignUpForm","import React,{useContext,useEffect} from 'react'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport {authanticate} from '../utils/auth'\r\nimport cookies from 'js-cookie'\r\nimport LoginForm from './LoginForm'\r\nimport SignUpForm from './SignUpForm'\r\nimport context from '../context/context'\r\n\r\n\r\n\r\nconst LoginPage = (props)=>{\r\n  const  {setloged}=  useContext(context)\r\n  useEffect(()=>{\r\n    const token = cookies.get('token')\r\n    if(token){\r\n      authanticate(token).then((data)=>{\r\n        if (!data.error) {\r\n          setloged(true)\r\n        }\r\n      })\r\n    }\r\n  },[])\r\n    return (\r\n    <div className = 'boxLayout'>\r\n    <Tabs>\r\n    <TabList>\r\n      <Tab>Login</Tab>\r\n      <Tab>SignUp</Tab>\r\n\r\n    </TabList>\r\n\r\n    <TabPanel>\r\n        <LoginForm push = {props.history.push} />\r\n    </TabPanel>\r\n    <TabPanel>\r\n      <SignUpForm push = {props.history.push} />\r\n    </TabPanel>\r\n  </Tabs>\r\n    </div>\r\n)}\r\n\r\n\r\nexport default LoginPage","import cookie from 'js-cookie'\r\nimport url from './ServerURL'\r\n\r\n\r\nconst getUser = async (id)=>{\r\n    const data = await fetch(url+'/users/'+id)\r\n\r\n    return data.json()\r\n}\r\n\r\n\r\nconst getUsers = async (id)=>{\r\n    const data = await fetch(url+'/users')\r\n\r\n    return data.json()\r\n}\r\n\r\nconst getFriends = async (id)=>{\r\n    const data = await fetch(url+'/users/f/'+id,{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\n\r\n\r\nconst getFriendsRequests = async ()=>{\r\n    const data = await fetch(url+'/users/f',{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\n\r\nconst AddFriend = async (id)=>{\r\n    const data = await fetch(url+'/users/f',{\r\n        method:'POST',\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token'),\r\n            \"Content-type\": \"application/json\"\r\n        },\r\n         body:JSON.stringify({id})\r\n    })\r\n\r\n    return data.json()\r\n}\r\nconst HandleRequest = async (id,type)=>{\r\n    const data = await fetch(url+'/users/f/'+id,{\r\n        method:'POST',\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token'),\r\n            \"Content-type\": \"application/json\"\r\n        },\r\n         body:JSON.stringify({type})\r\n    })\r\n\r\n    return data.json()\r\n}\r\n\r\nconst DeleteFriend =async (id)=>{\r\n    const data = await fetch(url+'/users/f/'+id,{\r\n        method:'DELETE',\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token'),\r\n            \"Content-type\": \"application/json\"\r\n        }\r\n    })\r\n\r\n    return data.json()\r\n}\r\nexport {getUser,getUsers,getFriends,getFriendsRequests,AddFriend,HandleRequest,DeleteFriend}","import React,{useContext,useState} from 'react'\r\nimport {HandleRequest} from '../utils/UsersDataHandler'\r\nimport context from '../context/context'\r\n\r\nconst FriendRequest = ({Request})=>{\r\n const {user} = useContext(context)\r\n const [disable,setdisable] = useState(false)\r\n const accept = ()=>{\r\n    setdisable(true)\r\n    HandleRequest(Request._id,'A').then(data=>{\r\n        user.contacts = [...user.contacts,Request._id]\r\n    })\r\n    \r\n }   \r\n\r\n const decline = ()=>{\r\n    setdisable(true)\r\n    HandleRequest(Request._id,'D').then(data=>{\r\n\r\n    })\r\n}   \r\n\r\nreturn (\r\n    <div className=\"Reqeust\">\r\n    <img src='/img/Happiness.jpg'  alt ='Profile pic '/>\r\n    <span className=\"Reqeust__text\">{Request.username}</span>\r\n    <button onClick ={accept} disabled ={disable}>Accept</button>\r\n    <button onClick = {decline} disabled ={disable}>decline</button>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default FriendRequest","import React,{useEffect,useState} from 'react'\r\nimport {getFriendsRequests} from '../utils/UsersDataHandler'\r\nimport FriendRequest from './FriendRequest'\r\n\r\nconst FriendsRequestsList = ()=>{\r\nconst [Requests,setRequests] = useState([{}])\r\nconst [loading,setloading] = useState(true)\r\n\r\nuseEffect(()=>{\r\n    getFriendsRequests().then((data)=>{\r\n        setRequests(data)\r\n        setloading(false)\r\n    })\r\n},[])\r\n\r\nreturn(\r\n    loading?\r\n    <p>Lodaing ....</p>\r\n    :\r\n    <div>\r\n    <ul className=\"item-list\">\r\n    {\r\n        Requests.map((Request)=>(\r\n            <li className = \"item-list--item\" key = {Request._id}>\r\n            <FriendRequest Request={Request}/>\r\n            </li>\r\n        ))\r\n    }\r\n    </ul>\r\n    </div>\r\n)\r\n}\r\nexport default FriendsRequestsList\r\n\r\n\r\n","import React,{useState,useEffect,useContext} from 'react'\r\nimport context from '../context/context'\r\nimport {Link} from 'react-router-dom'\r\nimport {getUser} from '../utils/UsersDataHandler'\r\nimport FriendsRequestsList from './FriendsRequestsList'\r\nimport {AddFriend,DeleteFriend} from '../utils/UsersDataHandler'\r\n\r\n\r\nconst ProfilePage = (props)=>{\r\n\r\n    const [userProfile,setProfile] = useState({})\r\n    const [disableButton,setdisableButton] = useState(false)\r\n    const [isFriend,setisFriend] = useState(false)\r\n    const [loading,setloading] = useState(true)\r\n    const [self,setself] = useState(false)\r\n    const {user} = useContext(context)\r\n    \r\n    useEffect(()=>{\r\n\r\n        if(props.match.params.id === user._id){\r\n            setself(true)\r\n            setProfile(user)\r\n            setloading(false)\r\n        }else{\r\n            getUser(props.match.params.id).then((data)=>{\r\n\r\n                if (data.error) {\r\n                    setProfile(undefined)\r\n                    setloading(false)\r\n                }else if(data._id){\r\n                    setself(false)\r\n                    setProfile(data)\r\n                    setisFriend(user.contacts.includes(data._id))\r\n                    setloading(false)\r\n                }\r\n            })\r\n        }\r\n\r\n    },[])\r\n\r\n    const handleMessage = ()=>{\r\n        props.history.push('/chat/'+userProfile._id)\r\n    }\r\n    const handleAddFriend = ()=>{\r\n        setdisableButton(true)\r\n        AddFriend(userProfile.username).then(({error,ok})=>{\r\n            \r\n        })\r\n    }\r\n\r\n    const handleDeleteFriend = ()=>{\r\n        setdisableButton(true)\r\n        DeleteFriend(userProfile._id).then(data=>{\r\n\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        loading ?\r\n        <p>Loading</p>\r\n        :\r\n        userProfile ?\r\n        <div className = 'profile'>\r\n        <img className = 'profile__picture' src='/img/Happiness.jpg' alt ='Profile pic '/>\r\n        <h2 className = 'profile__name'> {userProfile.username}</h2>\r\n        <h3 className = 'profile__email'>Email : {userProfile.email}</h3>\r\n        {!self &&\r\n            <div className = 'profile__buttons'>\r\n             <button disabled={disableButton} onClick = {isFriend? handleDeleteFriend: handleAddFriend}>{isFriend ? 'Delete Friend': 'Add Friend'}</button>\r\n             <button onClick = {handleMessage} >Message</button>\r\n             </div>\r\n            }\r\n        \r\n        </div>\r\n        :\r\n        <p>Profle not Found</p>\r\n    )\r\n}\r\n\r\nexport default ProfilePage","\r\nimport cookie from 'js-cookie'\r\nimport url from './ServerURL'\r\n\r\n\r\nconst getUsersRoom = async (id)=>{\r\n    const data = await fetch(url+'/rooms/u/'+id,{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\n\r\nconst getRoomMessages = async (id)=>{\r\n    const data = await fetch(url+'/messages/r/'+id,{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\n\r\nconst getLastRoomMessage = async (id)=>{\r\n    try {\r\n        const data = await fetch(url+'/messages/u/'+id,{\r\n            headers:{\r\n                'Authorization':'Bearer '+cookie.get('token')\r\n             }\r\n        })\r\n        if (data) {\r\n            return data.json()\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport {getUsersRoom,getRoomMessages,getLastRoomMessage}","import React from 'react'\r\nimport moment from 'moment'\r\n\r\n\r\n const Message = ({sender,icat,body,profilepic,includeExtra})=>\r\n(    \r\n    <li className= 'Message'>\r\n\r\n    {includeExtra && <div className = 'Message__info'>\r\n    <span className = 'Message__sender'>{sender}</span>\r\n    <span className = 'Message__time'>{moment.unix(icat).format(\"LT\")}</span> \r\n    </div>}\r\n\r\n    { includeExtra && (true?\r\n        <img src='/img/Happiness.jpg' className = 'Message__pp' alt ='Profile pic '/>\r\n        :\r\n        <span className = 'Message__pp'>{sender.toUpperCase()[0]}</span>)\r\n    }\r\n    \r\n    <p className = 'Message__body'>{body}</p>\r\n    </li>\r\n    )\r\n\r\n    export default Message","import React, {useRef,useLayoutEffect } from 'react'\r\nimport Message from './Mesaage'\r\n\r\n\r\n\r\n\r\n\r\nconst MessagesList = ({Messages,Users})=>{\r\n\r\n    const messagesEndRef = useRef(null)\r\n    const chatboxref  = useRef()\r\n\r\n\r\n    useLayoutEffect(()=>{\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\",block: \"end\", inline: \"nearest\"})\r\n    },[])\r\n    useLayoutEffect(()=>{\r\n        const shouldScrollToBottom = chatboxref.current.scrollTop + chatboxref.current.clientHeight + 200 >= chatboxref.current.scrollHeight\r\n        if (shouldScrollToBottom) {\r\n            messagesEndRef.current.scrollIntoView({ block: \"end\", inline: \"nearest\"})\r\n        }\r\n    },[Messages])\r\n    const MapDataToMessage = (msg)=>{\r\n        Users.forEach(user => {\r\n            if(user._id===msg.sender){\r\n                if (Messages[Messages.length-1] === msg.sender) {\r\n                    msg.includeExtra = true\r\n                }else{\r\n                    msg.includeExtra = true\r\n                }\r\n                \r\n                return msg.sender=user.username\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    return (        \r\n    <div ref={chatboxref}  className = \"chatbox--messages\">\r\n        <ul className = 'MessagesList'>\r\n        {Messages.map((message,index)=>{\r\n            MapDataToMessage(message)\r\n            return (\r\n                <Message key ={index} {...message} />\r\n            )\r\n        })}\r\n        </ul>\r\n        <div ref={messagesEndRef} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default MessagesList\r\n","import React,{useEffect,useState,useContext} from 'react'\r\nimport  moment  from 'moment';\r\nimport context from '../context/context'\r\nimport {getRoomMessages} from '../utils/RoomsDataHandler'\r\nimport MessagesList from './MessagesList';\r\n\r\nconst Chat = ({room,sendMessage,message})=>{\r\n\r\n    \r\n    const [partner,setPartner] = useState([{}]) \r\n    const [loading,setloading] = useState(true) \r\n    const [Messages,setMessages] = useState([]) \r\n    const {user} = useContext(context)\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        getRoomMessages(room._id).then((roomMessages)=>{\r\n            setMessages(roomMessages)\r\n            if(!room.error){\r\n                room.users.forEach(ruser => {\r\n                    if(ruser._id !== user._id ){\r\n                        setPartner(ruser)\r\n                    }\r\n                })\r\n                setloading(false)\r\n            }\r\n\r\n            \r\n        })\r\n\r\n    },[room])\r\n\r\n    useEffect(()=>{\r\n        setMessages(Messages => [ ...Messages, message ])\r\n    },[message])\r\n\r\n\r\n    const handleSumbmit = (e)=>{\r\n        e.preventDefault()\r\n        const msg = e.target.elements[0].value\r\n        if(msg.trim()!==''){\r\n            const message = {sender:user._id,body:msg,room:room._id,receiver:partner._id,icat: moment().unix()}\r\n            sendMessage(message)\r\n            e.target.elements[0].value = ''\r\n        }\r\n    }\r\n\r\n    return(\r\n        loading ?\r\n        <p>Loading....</p>\r\n        :\r\n        room.error?\r\n         <p>Empty</p>\r\n        :\r\n        <div className =\"chatbox\">\r\n        <div className = 'chatbox__header'>\r\n        <span className = 'chatbox__header__title'>{partner.username }</span>\r\n        </div>\r\n        <MessagesList Messages = {Messages} Users = {[partner,user]}/>\r\n\r\n        <div className = \"chatbox--input\">\r\n        \r\n        <form className = \"chatbox--input--form\" onSubmit = {handleSumbmit}>\r\n        \r\n        <input className = \"chatbox--input--form--input\" placeholder=\"message\" name =\"message\" required autoComplete=\"off\"/>\r\n         \r\n        <button  className = \"chatbox--input--form--btn\">\r\n        <svg\r\n         aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"external-link-square-alt\" className=\"svg-inline--fa fa-external-link-square-alt fa-w-14\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z\"></path>\r\n        </svg>\r\n        </button>\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Chat","import cookie from 'js-cookie'\r\nimport url from './ServerURL'\r\n\r\nconst getLastRoomMessage = async (id)=>{\r\n    const data = await fetch(url+'/messages/u/'+id,{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\nconst setMessageSeen = async (id)=>{\r\n    const data = await fetch(url+'/messages/seen/'+id,{\r\n        headers:{\r\n            'Authorization':'Bearer '+cookie.get('token')\r\n         }\r\n    })\r\n\r\n    return data.json()\r\n}\r\nexport {setMessageSeen}","import React,{useState,useContext} from 'react'\r\nimport context from '../context/context'\r\nimport moment from 'moment'\r\nimport {setMessageSeen} from '../utils/MessagesDataHandler'\r\n\r\n\r\n const LastMessage = ({message,setChat})=>{\r\n     \r\n    const {user} =useContext(context)\r\n    \r\n    const [online,setOnline] =  useState(false)\r\n    const [seen,setSeen] =  useState(message.message.seen || message.message.sender === user._id )\r\n    \r\n    const Clicked = ()=>{\r\n        setChat(message.user._id)\r\n        if(!seen){\r\n            setMessageSeen(message.message._id).then(()=>{\r\n\r\n            }).catch(()=>{\r\n    \r\n            })\r\n            setSeen(true)\r\n        }\r\n\r\n    }\r\n    React.useEffect(()=>{\r\n        setOnline(message.user.state)\r\n    })\r\n\r\n    return (  \r\n    <a className = 'last-chat-elem__link' onClick = {Clicked}>  \r\n    <li className = 'last-chat-elem' >\r\n        <div className = 'last-chat-elem__container'>\r\n        <img src='/img/Happiness.jpg' className ='last-chat-elem__image'  alt ='Profile pic '/>\r\n        {online && <span className='last-chat-elem__status' ></span>}\r\n        {!seen && <span>see</span>}\r\n        <div className ='last-chat-elem__content'>\r\n        <span className = 'last-chat-elem__user'>{message.user.username}</span>\r\n        <div className ='last-chat-elem__content__data'>\r\n            <span className = 'last-chat-elem__message'>{message.message.body}</span>\r\n           {message.message.icat && <span className = 'last-chat-elem__time'>{moment.unix(message.message.icat).format(\"LT\")}</span>}\r\n        </div>\r\n\r\n        </div>\r\n        </div>\r\n    </li>\r\n    </a>\r\n    )}\r\n\r\n    export default LastMessage","\r\nconst selectFriends = (friends,filter)=>{\r\n    return friends.filter((friend)=>{\r\n        if (friend.user.username) {\r\n            return friend.user.username.toLowerCase().includes(filter.toLowerCase())\r\n        }\r\n        return false\r\n    }).sort((a,b)=>{\r\n        return a.message.icat < b.message.icat ? 1 :-1\r\n})\r\n}\r\n\r\n\r\nexport default selectFriends","import React,{useContext,useEffect,useState} from 'react'\r\nimport LastMessage from './LastMessage'\r\nimport context from '../context/context'\r\nimport {getUser} from '../utils/UsersDataHandler'\r\nimport {getLastRoomMessage} from '../utils/RoomsDataHandler'\r\nimport friendsSelector from '../Selectors/FriendsSelector'\r\n\r\n\r\nconst ChatList = ({setChat,LastMsg,chatFilter,socket})=>{\r\n    const [loading,setLoading] = useState(true)\r\n    const [chatListData,setChatListData] = useState([])\r\n    const [chatList,setChatList] = useState([])\r\n    const [discUser,setdiscUser] = useState('') \r\n    const [conUser,setConUser] = useState('')\r\n    const {user} = useContext(context)\r\n    \r\n    const getEntries =async ()=>{\r\n        const Friends =[]\r\n        for (let index = 0; index < user.contacts.length; index++) {\r\n            const entry = {}\r\n            entry.user = await getUser(user.contacts[index])\r\n            entry.message = await getLastRoomMessage(user.contacts[index])\r\n            Friends.push(entry)\r\n          }\r\n        \r\n        return friendsSelector(Friends,chatFilter)\r\n    }\r\n    useEffect(()=>{\r\n        getEntries().then((data)=>{\r\n            if (!user.contacts.length==0) {\r\n                setChat(data[0].user._id)\r\n                setChatListData([...data])\r\n                setChatList([ ...data])   \r\n            }\r\n            socket.on('userdisconnected',(duser)=>{\r\n                setdiscUser(duser)\r\n                console.log('how tebi')\r\n            })\r\n    \r\n            socket.on('userconnected',cuser=>{\r\n                setConUser(cuser)\r\n                \r\n            })\r\n            socket.emit('online',user.contacts,(online)=>{\r\n                online.forEach(onlinefriend => {\r\n                    setConUser(onlinefriend)\r\n                })\r\n            })\r\n            setLoading(false)\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        chatListData.forEach(chat=>{\r\n            if (chat.user._id===discUser) {\r\n                chat.user.state = false\r\n                setdiscUser('')\r\n            }\r\n        })\r\n        setChatListData([...chatListData])\r\n        setChatList([...chatListData])\r\n    },[discUser])\r\n\r\n    useEffect(()=>{\r\n        chatListData.forEach(chat=>{\r\n            if (chat.user._id===conUser) {\r\n                chat.user.state = true\r\n                setConUser('')\r\n            }\r\n        })\r\n        setChatListData([...chatListData])\r\n        setChatList([...chatListData])\r\n    },[conUser])\r\n\r\n    useEffect(()=>{\r\n        chatListData.forEach((chat)=>{\r\n            if(chat.user._id === LastMsg.sender ||   chat.user._id === LastMsg.receiver){\r\n                chat.message = LastMsg\r\n            }\r\n        })\r\n    setChatList([ ...chatListData])\r\n    },[LastMsg])\r\n\r\n    useEffect(()=>{\r\n    setChatList([ ...friendsSelector(chatListData,chatFilter)])\r\n\r\n    },[LastMsg,chatFilter])\r\n\r\n    return( \r\n        loading?\r\n        <p>loading</p>\r\n        :\r\n        user.contacts.length==0?\r\n         <p>Empty</p>\r\n        :\r\n        <div className = 'Chatitem-list-container'>\r\n        <ul className=\"Chatitem-list\">\r\n        {\r\n            chatList.map((message,index)=>(\r\n                    <LastMessage key= {index} message ={message} setChat={setChat}/>\r\n    ))\r\n        }\r\n        </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatList","import React from 'react'\r\n\r\nconst ChatListFilter = ({setchatFilter,chatFilter})=>{\r\n\r\n    \r\n    const onFilterChange = e=>{\r\n        setchatFilter(e.target.value)\r\n    }\r\n    return (\r\n        <>\r\n        <input placeholder='.....' className = 'chat-filter' value = {chatFilter} onChange = {onFilterChange}  />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatListFilter","import React,{useState,useEffect,useRef,useContext} from 'react'\r\nimport io from 'socket.io-client'\r\nimport {getUsersRoom} from '../utils/RoomsDataHandler'\r\nimport context from \"../context/context\";\r\nimport Chat from './Chat'\r\nimport ChatList from './ChatList'\r\nimport ChatListFilter from './ChatListFilter'\r\nimport serverURL from '../utils/ServerURL'\r\nconst ChatPage = (props)=>{\r\n\r\n        const socket = useRef()\r\n        const [room,setroom] = useState() \r\n        const [msg,setmsg] = useState('') \r\n        const [LastMsg,setLastMsg] = useState('')\r\n        const [chatFilter,setchatFilter] = useState('')\r\n        const [loading,setloading] = useState(true)\r\n        const [loadingChat,setloadingChat] = useState(true)\r\n        const {user} = useContext(context)\r\n        const chatIdRef = useRef('') \r\n        const urlChatId = useRef(undefined) \r\n\r\n \r\n    useEffect(()=>{\r\n        socket.current = io.connect(serverURL+'/chat')\r\n        socket.current.emit('join',user._id,user.contacts)\r\n        socket.current.on('message',msg=>{   \r\n                      \r\n            if(chatIdRef.current === msg.sender){\r\n                msg.seen=true\r\n                setLastMsg(msg) \r\n                setmsg(msg)\r\n                \r\n            }else{\r\n                setLastMsg(msg)  \r\n            }\r\n            \r\n        })\r\n\r\n        socket.current.on('ping',(pong)=>{\r\n            if (pong){\r\n                pong()\r\n            }\r\n            \r\n        })\r\n        \r\n        if(props.match.params.id){\r\n            urlChatId.current = props.match.params.id\r\n        }\r\n\r\n        setloading(false)\r\n        return ()=>{\r\n            socket.current.emit('leave',user._id)\r\n        }\r\n    },[])\r\n\r\n    const sendMessage = message=>{\r\n        setLastMsg(message)\r\n        setmsg(message)\r\n        socket.current.emit('sendMessage',message)\r\n    }\r\n\r\n    const setChat = (id)=>{\r\n        if(urlChatId.current){\r\n            if (id !==chatIdRef.current ) {\r\n                chatIdRef.current = urlChatId.current\r\n                window.history.replaceState('', '', 'chat/'+id)\r\n                getUsersRoom(urlChatId.current).then((room)=>{      \r\n                    setroom(room)\r\n                    setloadingChat(false)\r\n                })\r\n            }   \r\n            urlChatId.current=undefined\r\n        }else{\r\n                if (id !==chatIdRef.current ) {\r\n                    chatIdRef.current = id\r\n                    window.history.replaceState('', '', 'chat/'+id)\r\n                    getUsersRoom(id).then((room)=>{      \r\n                        setroom(room)\r\n                        setloadingChat(false)\r\n                    })\r\n                }       \r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        loading ? \r\n        <p>Loading ...........</p>\r\n        :\r\n\r\n        <div className =\"chat-page-container\">\r\n        <div className =\"Chat-List-container\">\r\n        <ChatListFilter setchatFilter = {setchatFilter} chatFilter={chatFilter}/>\r\n        <ChatList setChat= {setChat} LastMsg={LastMsg} chatFilter={chatFilter} socket={socket.current} />\r\n        </div>\r\n        \r\n        {!loadingChat && <Chat room = {room} sendMessage= {sendMessage} message= {msg}/>}\r\n        </div>\r\n\r\n        \r\n    )\r\n\r\n}\r\n\r\n\r\nexport default ChatPage","import React,{useEffect,useState,useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {getFriends} from '../utils/UsersDataHandler'\r\nimport context from '../context/context'\r\n\r\nconst FriendsList = (props)=>{\r\nconst [friends,setfriends] = useState([{}])\r\nconst [loading,setloading] = useState(true)\r\nconst {user} = useContext(context)\r\nuseEffect(()=>{\r\n    getFriends(user._id).then((data)=>{\r\n        setfriends(data)\r\n        setloading(false)\r\n    })\r\n},[])\r\n\r\nreturn(\r\n    loading?\r\n    <p>Lodaing ....</p>\r\n    :\r\n    <div >\r\n    <ul className=\"item-list\">\r\n    {\r\n        friends.map((friend)=>(\r\n            <li className = \"item-list--item\" key = {friend._id} >\r\n            <div className=\"nav-link\">\r\n            <img src='/img/Happiness.jpg'  alt ='Profile pic '/>\r\n            <span className=\"item-list--item-text\">{friend.username}</span>\r\n            <Link to={'/profile/'+friend._id} className =\"profile-link\">\r\n            <svg \r\n            aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"address-card\" className=\"svg-inline--fa fa-address-card fa-w-18\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><path fill=\"currentColor\" d=\"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H48V80h480v352zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2zM360 320h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8z\"></path>\r\n            </svg>  \r\n            </Link>\r\n            <Link to={'/chat/'+friend._id} className =\"chat-link\">\r\n            <svg \r\n             aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"comment\" className=\"svg-inline--fa fa-comment fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"></path>\r\n            </svg>\r\n        \r\n            </Link>\r\n            </div>\r\n            \r\n            </li>\r\n        ))\r\n    }\r\n    </ul>\r\n    </div>\r\n)\r\n}\r\nexport default FriendsList\r\n\r\n\r\n","import React from 'react'\r\nimport {AddFriend} from '../utils/UsersDataHandler'\r\n\r\nconst AddFriends = ()=>{\r\n    const [FName,setFName]= React.useState('')\r\n    const [rerror,seterror]= React.useState('')\r\n    const [Buttondisabled,setButtondisabled]= React.useState(false)\r\n    const handleAdd = (e)=>{\r\n        e.preventDefault()\r\n        setButtondisabled(true)\r\n        if(FName.trim() !==''){\r\n            AddFriend(FName).then(({error})=>{\r\n                if(error){\r\n                    seterror(error)\r\n                }else{\r\n                    seterror('Request Sent')\r\n                }\r\n                setFName('')\r\n                setButtondisabled(false)\r\n            })\r\n        }\r\n\r\n    }\r\n    const valueChanged =e=>{\r\n       setFName(e.target.value)\r\n    }\r\n    return (\r\n        <>\r\n        <h2>Add Friends</h2>\r\n        {\r\n            !!rerror && <p>{rerror}</p>\r\n        }\r\n        <form className='friendadd-form' onSubmit = {handleAdd}>\r\n        <input placeholder = \"Friend Name\" value = {FName} onChange = {valueChanged}/>\r\n        <button disabled = {Buttondisabled}>Add</button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default AddFriends","import React from 'react'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport FriendsList from \"./FriendsList\";\r\nimport FriendsRequestsList from \"./FriendsRequestsList\";\r\nimport AddFriends from './AddFriends'\r\nconst FriendsPage = ()=>{\r\n  \r\n    return (\r\n        <div className = 'Friends-content'>\r\n        <Tabs className = 'Friends-tab'>\r\n        <TabList className = 'Friends-tab__list'>\r\n          <Tab className = 'Friends-tab__list__tab' selectedClassName ='Friends-tab__list__tab--selected'>Friends</Tab>\r\n          <Tab className = 'Friends-tab__list__tab' selectedClassName ='Friends-tab__list__tab--selected'>Requests</Tab>\r\n          <Tab className = 'Friends-tab__list__tab' selectedClassName ='Friends-tab__list__tab--selected'>Online</Tab>\r\n          <Tab className = 'Friends-tab__list__tab' selectedClassName ='Friends-tab__list__tab--selected'>Add Friends</Tab>\r\n    \r\n        </TabList>\r\n    \r\n        <TabPanel className = 'Friends-tab__panel'>\r\n            <FriendsList/>\r\n        </TabPanel>\r\n\r\n        <TabPanel className = 'Friends-tab__panel'>\r\n        <FriendsRequestsList/>\r\n        </TabPanel>\r\n\r\n        <TabPanel className = 'Friends-tab__panel'>\r\n        <p>not emplimeted yet :')</p>\r\n        </TabPanel>\r\n        <TabPanel className = 'Friends-tab__panel'>\r\n        <AddFriends/>\r\n        </TabPanel>\r\n      </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendsPage","import React,{useContext} from 'react'\r\nimport context from '../context/context'\r\nimport {Link} from 'react-router-dom'\r\nimport {logout} from '../utils/auth'\r\n\r\n\r\n\r\n\r\nconst SideBar = ()=>{\r\n    const {setloged,user} = useContext(context)\r\n    const onlogout = ()=>{\r\n        logout()\r\n        setloged(false)\r\n    }\r\n\r\n    return(\r\n        \r\n        <nav className = \"navbar\">\r\n        <ul className=\"navbar-nav\">\r\n\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to ={'/profile/'+user._id} className=\"nav-link\">\r\n          <img src='/img/Happiness.jpg' className ='nav-link__pp' alt ='Profile pic '/>\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n        <Link to ={'/friends'} className=\"nav-link\">\r\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"user-friends\" className=\"svg-inline--fa fa-user-friends fa-w-20\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path fill=\"currentColor\" d=\"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z\"></path>\r\n        </svg>        \r\n        </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n        <Link to ={'/Chat'} className=\"nav-link\">\r\n        <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"envelope\" className=\"svg-inline--fa fa-envelope fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z\"></path>\r\n        </svg>       \r\n        </Link>\r\n        </li>\r\n\r\n        \r\n        <li className=\"nav-item\">\r\n          <a onClick = {onlogout} className=\"nav-link\">\r\n          <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"sign-out-alt\" className=\"svg-inline--fa fa-sign-out-alt fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"></path>\r\n          </svg>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default SideBar","import React,{useContext,useEffect,useState} from 'react'\r\nimport {Route,Redirect} from 'react-router-dom'\r\nimport cookie from 'js-cookie'\r\nimport context from '../context/context'\r\nimport {authanticate} from '../utils/auth'\r\nimport SideBar from '../Components/SideBar'\r\n\r\n\r\n\r\nconst PrivateRoute= ({component:Component,...rest})=>{\r\n    const [loading,setloading] = useState(true)\r\n    const {loged,setloged,setUser} = useContext(context)\r\n\r\n    useEffect(()=>{\r\n        authanticate(cookie.get('token')).then((data)=>{\r\n            if (data.error) {\r\n                setloged(false)\r\n                setloading(false)\r\n                return\r\n            }else if (data._id){\r\n                setUser(data)\r\n                setloged(true)\r\n                setloading(false)\r\n            }\r\n        })\r\n    },[])\r\n    return(\r\n        loading ? \r\n        <p>Loading ......</p>\r\n        :\r\n        <Route {...rest} component = {(props)=>(\r\n            loged ?\r\n            <>\r\n            <SideBar/>\r\n            <div className ='main-content'>\r\n            <Component {...props}/>\r\n            </div>\r\n            </> \r\n            :\r\n            <Redirect to='/'/>\r\n        )} />\r\n    )\r\n\r\n} \r\n\r\nexport default PrivateRoute","import React,{useContext,useEffect,useState} from 'react'\r\nimport {Route,Redirect} from 'react-router-dom'\r\nimport context from '../context/context'\r\nimport {authanticate} from '../utils/auth'\r\n\r\n\r\n\r\nconst PublicRoute= ({component:Component,...rest})=>{\r\n    const [loading,setloading] = useState(true)\r\n    const {loged,setloged,setUser,user} = useContext(context)\r\n    useEffect(()=>{\r\n        authanticate().then((data)=>{\r\n            if(data){\r\n                if (data.error) {\r\n                    setloged(false)\r\n                    setloading(false)\r\n                    return\r\n                }else if (data._id){\r\n                    setUser(data)\r\n                    setloged(true)\r\n                    setloading(false)\r\n                }\r\n            }else{\r\n                setloged(false)\r\n                setloading(false)\r\n            }\r\n\r\n        })\r\n    },[])\r\n\r\n    return(\r\n        loading ? \r\n        <p>Loading ......</p>\r\n        :\r\n        <Route {...rest} component = {(props)=>(\r\n            !loged ?\r\n            <div>\r\n            <Component {...props}/>\r\n            </div> \r\n            :\r\n            <Redirect to={'/profile/'+user._id}/>\r\n        )} />\r\n    )\r\n\r\n} \r\n\r\nexport default PublicRoute","import React,{useState} from 'react';\r\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\r\nimport context from '../context/context'\r\nimport LoginPage from '../Components/LoginPage'\r\nimport ProfilePage from '../Components/ProfilePage'\r\n// import DashboardPage from '../Components/DashboardPage'\r\nimport ChatPage from '../Components/ChatPage'\r\nimport FriendsPage from '../Components/FriendsPage'\r\nimport PrivateRoute from './PrivateRoute'\r\nimport PublicRoute from './PublicRoute'\r\n\r\n    //   <PrivateRoute path ='/dashboard' component ={DashboardPage}/>\r\n    // \r\n\r\n\r\nconst App =() =>{\r\n  \r\n  const [loged,setloged] = useState(false)\r\n  const [user,setUser] = useState({contacts:[],username:'',email:'',state:'',_id:''})\r\n\r\n  return(\r\n  <context.Provider value = {{loged,setloged,user,setUser}}>\r\n  <BrowserRouter>\r\n  <>\r\n  <Switch>\r\n  <PublicRoute path ='/' component ={LoginPage} exact={true}/>\r\n  <PrivateRoute path ='/Chat/:id' component ={ChatPage}/>\r\n  <PrivateRoute path ='/Chat' component ={ChatPage}/>  \r\n  <PrivateRoute path ='/friends' component ={FriendsPage}/> \r\n  <PrivateRoute path = '/profile/:id' component= {ProfilePage}/>\r\n  <Route  component= {()=><h1>Page Not Found</h1>}/>\r\n  </Switch>\r\n  </>\r\n  </BrowserRouter>\r\n  </context.Provider>\r\n\r\n)}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Styles/index.scss';\r\nimport App from './Routers/AppRouter';\r\nimport 'react-app-polyfill/stable';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}